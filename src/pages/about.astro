---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const caseStudies = (await getCollection('posts'))
	.filter(post => post.data.tag === 'case-study')
	.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
	.slice(0, 4);
---

<Layout title="Value">
	<article class="container">
		<div class="hero-section">
			<h1>We've shipped at scale.</h1>
			<p class="lead">Before vl8, we built production AI systems for Fortune 500s. Here's the proof.</p>
		</div>

		<div class="metrics-grid">
			<div class="metric-card">
				<div class="metric-glow"></div>
				<span class="number">1200Ã—</span>
				<span class="label">Scale Increase</span>
				<p>Scaled test coverage for a top consumer AI product from 10 manual tests to 12,000+ automated tests across 50+ languages and device configs.</p>
			</div>
			<div class="metric-card">
				<div class="metric-glow"></div>
				<span class="number">$1M+</span>
				<span class="label">Cost Savings</span>
				<p>Built Android UI automation that eliminated 1,000+ hours of manual QA per release cycle.</p>
			</div>
			<div class="metric-card">
				<div class="metric-glow"></div>
				<span class="number">5%</span>
				<span class="label">Throughput Gain</span>
				<p>Integrated ML for 5G network slicing on production infrastructure. Increased edge node goodput from 1.14 to 1.2 Gbps.</p>
			</div>
			<div class="metric-card">
				<div class="metric-glow"></div>
				<span class="number">50%</span>
				<span class="label">Error Reduction</span>
				<p>Optimized LLM evaluation pipeline with LoRA fine-tuning on GCP. Cut false positive rate from 22% to 11%.</p>
			</div>
		</div>

		<div class="case-studies-section">
			<h2>Case Studies</h2>
			
			<div class="case-studies">
				{caseStudies.map((post) => (
					<div class="case-study">
						<div class="case-meta">
							<time datetime={post.data.pubDate.toISOString()}>
								{post.data.pubDate.toISOString().split('T')[0].replace(/-/g, '.')}
							</time>
						</div>
						<div class="case-content">
							<h3><a href={`/posts/${post.slug}`}>{post.data.title}</a></h3>
							<p>{post.data.description}</p>
							<a href={`/posts/${post.slug}`} class="read-link">
								<span>Read case study</span>
								<svg width="16" height="16" viewBox="0 0 16 16" fill="none">
									<path d="M6 3L11 8L6 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
								</svg>
							</a>
						</div>
					</div>
				))}
			</div>

			<div class="read-more">
				<a href="/newsroom?tag=case-study" class="read-more-btn">
					<span>View all case studies</span>
					<svg width="20" height="20" viewBox="0 0 20 20" fill="none">
						<path d="M7.5 5L12.5 10L7.5 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
					</svg>
				</a>
			</div>
		</div>

	</article>
</Layout>

<style>
	article {
		padding: 4rem 1.5rem;
	}

	.hero-section {
		margin-bottom: 6rem;
		text-align: center;
	}

	h1 {
		font-size: clamp(2.5rem, 7vw, 4.5rem);
		margin-bottom: 1.5rem;
		letter-spacing: -0.04em;
		font-weight: 700;
		line-height: 1.1;
	}

	.lead {
		font-size: clamp(1.1rem, 2.5vw, 1.5rem);
		line-height: 1.4;
		margin-bottom: 0;
		font-weight: 400;
		max-width: 35ch;
		margin: 0 auto;
		color: var(--color-text-muted);
	}

	.metrics-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
		gap: 2rem;
		margin-bottom: 8rem;
	}

	.metric-card {
		position: relative;
		background: var(--color-bg-elevated);
		border: 1px solid rgba(255, 255, 255, 0.1);
		border-radius: 12px;
		padding: 2.5rem 2rem;
		display: flex;
		flex-direction: column;
		transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
		overflow: hidden;
	}

	.metric-glow {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		height: 3px;
		background: var(--color-accent);
		opacity: 0;
		transition: opacity 0.4s ease;
	}

	.metric-card:hover {
		transform: translateY(-4px);
		border-color: var(--color-border);
		box-shadow: var(--shadow-lg);
	}

	.metric-card:hover .metric-glow {
		opacity: 1;
	}

	.number {
		font-size: clamp(3rem, 6vw, 4.5rem);
		font-weight: 700;
		line-height: 1;
		margin-bottom: 1rem;
		letter-spacing: -0.05em;
		background: var(--gradient-accent);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
	}

	.label {
		font-family: var(--font-mono);
		font-size: 0.8rem;
		text-transform: uppercase;
		letter-spacing: 0.1em;
		margin-bottom: 1.25rem;
		color: var(--color-text-muted);
		font-weight: 600;
	}

	.metric-card p {
		font-size: 0.95rem;
		line-height: 1.6;
		color: var(--color-text-muted);
		margin: 0;
	}

	.case-studies-section {
		margin-top: 6rem;
	}

	h2 {
		font-size: clamp(2rem, 5vw, 3rem);
		margin-bottom: 3rem;
		padding-top: 3rem;
		border-top: 1px solid var(--color-border);
		font-weight: 700;
		letter-spacing: -0.03em;
		color: var(--color-text);
	}

	.case-studies {
		display: flex;
		flex-direction: column;
		gap: 3rem;
		margin-bottom: 4rem;
	}

	.case-study {
		display: grid;
		grid-template-columns: 140px 1fr;
		gap: 2.5rem;
		align-items: baseline;
		padding-bottom: 3rem;
		border-bottom: 1px solid rgba(255, 255, 255, 0.05);
		transition: border-color 0.3s ease;
	}

	.case-study:last-child {
		border-bottom: none;
		padding-bottom: 0;
	}

	.case-study:hover {
		border-bottom-color: var(--color-border);
	}

	.case-meta time {
		font-family: var(--font-mono);
		font-size: 0.85rem;
		color: var(--color-text-muted);
		font-weight: 500;
	}

	.case-content h3 {
		font-size: clamp(1.3rem, 3vw, 1.6rem);
		margin-bottom: 0.75rem;
		font-weight: 600;
		letter-spacing: -0.02em;
		line-height: 1.3;
	}

	.case-content h3 a {
		text-decoration: none;
		background: linear-gradient(to right, var(--color-text), var(--color-text));
		background-size: 0% 2px;
		background-repeat: no-repeat;
		background-position: left bottom;
		transition: background-size 0.3s ease;
	}

	.case-content h3 a:hover {
		background-size: 100% 2px;
	}

	.case-content p {
		font-size: 1rem;
		margin-bottom: 1.25rem;
		color: var(--color-text-muted);
		line-height: 1.6;
	}

	.read-link {
		font-family: var(--font-mono);
		font-size: 0.85rem;
		text-decoration: none;
		display: inline-flex;
		align-items: center;
		gap: 0.5rem;
		color: var(--color-accent);
		font-weight: 500;
		transition: gap 0.3s ease;
	}

	.read-link:hover {
		gap: 0.75rem;
	}

	.read-link svg {
		transition: transform 0.3s ease;
	}

	.read-link:hover svg {
		transform: translateX(2px);
	}

	.read-more {
		text-align: center;
		padding-top: 3rem;
	}

	.read-more-btn {
		font-family: var(--font-mono);
		font-size: 1rem;
		text-decoration: none;
		padding: 1.2rem 2.5rem;
		border: 2px solid transparent;
		background: var(--gradient-subtle);
		border-radius: 8px;
		display: inline-flex;
		align-items: center;
		gap: 0.75rem;
		transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		font-weight: 500;
		position: relative;
		overflow: hidden;
	}

	.read-more-btn::before {
		content: '';
		position: absolute;
		inset: 0;
		border-radius: 8px;
		padding: 2px;
		background: var(--color-accent);
		-webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
		-webkit-mask-composite: xor;
		mask-composite: exclude;
		opacity: 0;
		transition: opacity 0.3s ease;
	}

	.read-more-btn:hover::before {
		opacity: 1;
	}

	.read-more-btn:hover {
		transform: translateY(-2px);
		box-shadow: var(--shadow-md);
		gap: 1rem;
	}

	.read-more-btn svg {
		transition: transform 0.3s ease;
	}

	.read-more-btn:hover svg {
		transform: translateX(3px);
	}

	@media (max-width: 768px) {
		article {
			padding: 2rem 1rem;
		}

		.hero-section {
			margin-bottom: 4rem;
		}

		.metrics-grid {
			grid-template-columns: 1fr;
			gap: 1.5rem;
			margin-bottom: 5rem;
		}

		.metric-card {
			padding: 2rem 1.5rem;
		}

		.case-study {
			grid-template-columns: 1fr;
			gap: 0.75rem;
			padding-bottom: 2rem;
		}

		.case-studies {
			gap: 2rem;
		}
	}

	strong {
		color: var(--color-text);
		font-weight: 600;
	}
</style>

